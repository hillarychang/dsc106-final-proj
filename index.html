<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Sailing with Interactive Visualizaitons</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/topojson.v3.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: antiquewhite;
            font-family: 'Roboto', sans-serif;
        }

        h1, h2, h3 {
            font-weight: 700;
        }

        p, ul, li {
            font-weight: 400;
            font-size: 16px;
        }

        .country {
            stroke: #000;
            stroke-width: 0.5px;
        }

        .legend {
            display: inline-block;
            vertical-align: middle;
            background-color: rgba(255, 255, 255, 0.8);
            border: 4px solid #ccc;
            padding: 10px;
        }

        .legend p {
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 14px;
            text-align: center;
        }

        .map {
            justify-content: center;
        }

        .legend-item {
            display: inline-block;
            margin-bottom: 5px;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: left;
            align-items: center;
            margin-top: 20px;
        }

        .box {
            border: 2px solid black;
            width: 287px;
            height: 287px;
            margin: 15px;
            position: relative;
        }

        .drop-box {
            border: 2px solid black;
            fill: white;
            width: 150px;
            height: 50px;
            position: relative;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            line-height: 50px;
            font-size: 20px;
        }

        .term-box {
            border: 2px solid black;
            background-color: white;
            width: 150px;
            height: 50px;
            margin: 10px;
            position: relative;
            cursor: pointer;
            text-align: center;
            line-height: 50px;
            font-size: 20px;
        }

        .wide-box {
            width: 913px;
            height: 289px;
            justify-content: center;
        }

        .row {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-bottom: 100px;
        }

        .row:last-child {
            margin-bottom: 0;
        }

        #term-box {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            padding: 10px;
            background-color: #a4c2f4ff;
            border-radius: 8px;
        }

        #top-row {
            display: flex;
            justify-content: center;
            align-items: center;
            padding-bottom: 80px;
            background-color: antiquewhite;
        }

        #middle-row {
            display: flex;
            justify-content: center;
            align-items: center;
            padding-bottom: 80px;
        }

        #bottom-row {
            display: flex;
            justify-content: center;
            align-items: center;
            padding-bottom: 80px;
        }

        ul {
            font-family: 'Roboto', sans-serif;
            font-size: 16px;
            color: #333;
            line-height: 1.5;
        }

        ul li {
            margin-bottom: 10px;
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.75);
            color: white;
            padding: 5px;
            border-radius: 5px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .highlight {
            fill: yellow;
        }

        .slideshow-container {
            position: relative;
            max-width: 1000px;
            margin: auto;
        }

        .slides {
            display: none;
            text-align: center;
        }

        .prev, .next {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            padding: 16px;
            margin-top: -22px;
            color: black;
            font-weight: bold;
            font-size: 18px;
            transition: 0.6s ease;
            border-radius: 0 3px 3px 0;
            user-select: none;
        }

        .next {
            right: 0;
            border-radius: 3px 0 0 3px;
        }

        .prev:hover, .next:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        .text {
            font-size: 24px;
            font-weight: bold;
        }

        .flag {
            width: 320px;
            height: auto;
            margin: 10px auto;
        }

        .medals, .total-medals {
            font-size: 18px;
        }

        .segment {
            fill: white;
            stroke: black;
            stroke-width: 1px;
        }

        .highlight {
            fill: yellow;
        }
    </style>
</head>
<body>
    <h1>Popularity of Olympic Sailing Over Time</h1>
    <p>Sailing has been included in the Summer Olympics since 1896 (though those events, specifically, were cancelled due to weather) and have continued to grow as an event. At the 2024 Paris Olympics, there will be over 40 different sailing events with hundreds of competitors. Interested to see how sailing has grown as a sport over time? Use the slider below to see the changes in how many countries send a team and how many sailors each team has. The most from any team was 59 sailors from Norway in 1920.</p>
    <div style="display: inline-block; vertical-align: middle; justify-content: center;" >
        <label for="year">Select Year: </label>
        <input type="range" id="year" min="1908" max="2020" step="4" value="1908"/>
        <span id="selectedYear">1908</span>
    </div>
    <div class="legend">
        <p>Number of People Sent to The Olympics</p>
        <div class="legend-item"><span style="background-color:#f7fbff;">&nbsp;&nbsp;&nbsp;&nbsp;</span> 0</div>
        <div class="legend-item"><span style="background-color:#c6dbef;">&nbsp;&nbsp;&nbsp;&nbsp;</span> 5</div>
        <div class="legend-item"><span style="background-color:#6baed6;">&nbsp;&nbsp;&nbsp;&nbsp;</span> 10</div>
        <div class="legend-item"><span style="background-color:#2171b5;">&nbsp;&nbsp;&nbsp;&nbsp;</span> 15</div>
        <div class="legend-item"><span style="background-color:#08306b;">&nbsp;&nbsp;&nbsp;&nbsp;</span> 20+</div>
    </div>
    <div id="totalCompetitors">Total Competitors: 0</div>
    <div class="tooltip" id = "maptooltip" style="opacity:0;"></div>
    <div class="map">
        <script>
            const width = 900;
            const height = 600;
            const svg = d3.select('body').append('svg').attr('width', width).attr('height', height);
            const projection = d3.geoMercator().scale(140).translate([width / 2, height / 1.4]);
            const path = d3.geoPath(projection);
            const g = svg.append('g');
            const maptooltip = d3.select('.tooltip');
        
            d3.json('https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json')
                .then(data => {
                    const countries = topojson.feature(data, data.objects.countries);
        
                    g.selectAll('path')
                        .data(countries.features)
                        .enter().append('path')
                        .attr('class', 'country')
                        .attr('d', path);
        
                    d3.json('competitors.json')
                        .then(competitorsData => {
                            const colorScale = d3.scaleSequential(d3.interpolateBlues).domain([0, 25]);
                            
                            function updateMap(year) {
                                g.selectAll('.country')
                                    .attr('fill', d => {
                                        const countryName = d.properties.name;
                                        const competitors = competitorsData[year][countryName] || 0;
                                        return colorScale(competitors);
                                    })
                                    .on('mouseover', (event, d) => {
                                        const countryName = d.properties.name;
                                        const competitors = competitorsData[year][countryName] || 0;
                                        maptooltip.style('opacity', 1)
                                            .style('left', event.pageX + 'px')
                                            .style('top', event.pageY + 'px')
                                            .html(`<strong>${countryName}</strong><br>Competitors: ${competitors}`);
                                            d3.select(event.target).style('fill', 'orange');
                                    })
                                    .on('mousemove', (event) => {
                                        maptooltip.style('left', event.pageX + 'px')
                                            .style('top', event.pageY + 'px');
                                    })
                                    .on('mouseout', (event,d) => {
                                        maptooltip.style('opacity', 0);
                                        d3.select(event.target).style('fill', colorScale(d));
                                    });
        
                                const totalCompetitors = competitorsData[year]["Total Competitors"] || 0;
                                document.getElementById('selectedYear').innerText = year;
                                document.getElementById('totalCompetitors').innerText = `Total Competitors: ${totalCompetitors}`;
                            }
        
                            const slider = document.getElementById('year');
                            slider.addEventListener('input', function() {
                                const year = this.value;
                                updateMap(year);
                            });
                            updateMap(slider.value);
                        })
                        .catch(error => console.log(error));
                })
                .catch(error => console.log(error));
        </script>
    </div>
    <p>Please note: in order to provide the best bird's eye view of the distribution of Olympic Sailing teams over time, a somewhat simplified map is utilized. Unfortunately, this means some nations are not represnted, most of these being island nations such as Aruba and Barbados. Additionally, the Olympics records nations as the team name they competed under, some of which have become obsolete through history, such as the Soviet Union and Czechoslovakia. Through data cleaning, we've done our best to properly attribute the number of competitors to the modern country they represent. </p>
    
    <h1>Parts of the Boat and Their Functions</h1>
    <p>Mouse over each gray part of the boat to learn that part's name and function! If you get lost, the part you're currently on will be highlighted in yellow.</p>
    <svg id="dinghyDiagram" height="60%" width="60%" viewBox="0 0 300 198.438">
        <text x="0" y="14.5" fill="black">Side View:</text>
        <text x="120" y="14.5" fill="black">Top View:</text>
    
        <rect id="stern" width="77.206581" height="31.162245" x="141.15488" y="157.94897" fill="lightgray" stroke="black" />
        <rect id="port" width="38.434708" height="66.723846" x="141.15488" y="91.225128" fill="lightgray" stroke="black" />
        <rect id="starboard" width="38.434715" height="66.723854" x="179.92674" y="91.225128" fill="lightgray" stroke="black" />
        <path id="bow" d="m 141.14257,91.155548 h 77.19797 c 0,0 -32.8207,-155.324104 -77.19797,0 z" fill="lightgray" stroke="black" />

        <rect id="mast" width="2.986515" height="143.0004" x="92.229683" y="7.7442203" fill="lightgray" stroke="black" />
        <rect id="boom" width="63.389854" height="2.6219482" x="28.730257" y="120.76959" fill="lightgray" stroke="black" />
        <path id="hull" d="m 20.866125,147.92063 115.188135,0.2697 c 0,0 -5.36719,14.83348 -19.40445,18.06987 -14.03727,3.2364 -88.352192,1.3485 -88.352192,1.3485 0,0 -12.385821,-1.88789 -7.431493,-19.68807 z" fill="lightgray" stroke="black" />
        <path id="rudder" d="m 19.782695,144.38606 -0.316404,37.11317 c 0,0 -6.802701,13.94006 -8.70113,7.06055 -1.8984279,-6.87952 -6.1698916,-15.20735 0.316405,-43.81164 v 0 z" fill="lightgray" stroke="black" />
        <rect id="tiller" width="24.837769" height="2.1724782" x="19.782696" y="144.38606" fill="lightgray" stroke="black" />
        <path id="centerboard" d="m 60.2825,168.21361 h 18.826078 c 0,0 1.42382,21.18166 -3.955057,27.15597 -5.378882,5.97432 -9.96675,-13.39694 -14.871021,-27.15597 z" fill="lightgray" stroke="black" />
        <path id="vang" d="m 92.192758,136.42084 -11.361517,-12.90725 -3.166189,-0.0748 14.523419,15.82165 z" fill="lightgray" stroke="black" />
        <path id="main-sheet" d="m 57.659801,123.38431 3.30725,24.52988 H 58.29991 l -3.520621,-24.52988 z" fill="lightgray" stroke="black" />
        <path id="jib" d="M 95.558337,45.696596 134.38836,147.63751 c 0,0 -35.169257,0 -34.662005,-4.69106 0.507255,-4.69108 -5.798962,-17.30457 -4.168018,-97.249854 z" fill="lightgray" stroke="black" />
        <path id="jib-sheet" d="m 99.92375,143.23222 -4.524195,4.85443 z" fill="lightgray" stroke="black" />
        <path id="main" d="m 29.427311,120.83746 62.776436,-0.0722 0.0028,-111.5058283 c 0,0 -37.022064,-0.8879495 -62.779231,111.5780083 z" fill="lightgray" stroke="black" />
    </svg>
    <div class="tooltip" id = "boattooltip" style="opacity:0;"></div>
        <script>
            const parts = {
                "hull" : {
                    name: "Hull",
                    description: "The body of the boat. Most parts attach here. Sailor also sits on the top of the hull, called the deck."
                },
                "bow" : {
                    name: "Bow",
                    description: "The front, pointy end of the boat."
                },
                "stern" : {
                    name: "Stern",
                    description: "The back, flat end of the boat."
                },
                "port" : {
                    name: "Port",
                    description: "When looking towards the bow, this is the left side of the boat. Remember: left and port both have four letters."
                },
                "starboard" : {
                    name: "Starboard",
                    description: "When looking towards the bow, this is the right side of the boat."
                },
                "centerboard" : {
                    name: "Centerboard",
                    description: "This blade-shaped part of the boat sticks deep into the water and helps keep the boat upright by providing resistance against the moving water."
                },
                "mast" : {
                    name: "Mast",
                    description: "The tall pole in the middle of the boat that holds the boom and the main sail. The vang connects to this too."
                },
                "boom" : {
                    name: "Boom",
                    description: "This pole is parallel to the top of the boat. It hold the main sail. Remember to duck your head when tacking or gybing or you'll understand why this is called the boom (hint: it's the sound it makes when it hits your head)."
                },
                "main" : {
                    name: "Main",
                    description: "The large, center sail. This is responsible for most of the speed of the boat."
                },
                "jib" : {
                    name: "Jib",
                    description: "The smaller sail towards the front of the boat. This is responsible for fine tuning the speed and direction of the boat."
                },
                "rudder" : {
                    name: "Rudder",
                    description: "This blade-shaped part of the boat sticks into the water and acts like the axels and wheels of a car- it is responsible for turning the boat when pushed by the tiller."
                },
                "tiller" : {
                    name: "Tiller",
                    description: "Acts like the sailor's steering wheel, allowing them to change the direction of the boat."
                },
                "main-sheet" : {
                    name: "Main Sheet",
                    description: "Allows the sailor to control the main sail, determining how fast the boat goes. Sheets are the terms for lines (ropes) that bring a sail in or out."
                },
                "vang" : {
                    name: "Vang",
                    description:"A type of control line (rope). This brings down the boom to smooth out any wrinkles in the mainsail."
                }
            }
            const boatsvg = document.getElementById('dinghyDiagram');
            const boattooltip = document.getElementById('boattooltip');
            boatsvg.addEventListener('mousemove', function(event) {
                const target = event.target;
                if (target.tagName ==='rect' || target.tagName === 'path') {
                    const part=parts[target.id];
                    if (part) {
                        target.classList.add('highlight');
                        boattooltip.style.opacity = 1;
                        boattooltip.style.left = event.pageX + 10 + 'px';
                boattooltip.style.top = event.pageY + 10 + 'px';
                boattooltip.innerHTML = `<strong>${part.name}</strong><br>${part.description}`;
                    }
                }
            });
            boatsvg.addEventListener('mouseout', function(event) {
                const target = event.target;
                if (target.tagName ==='rect' || target.tagName === 'path') {
                    target.classList.remove('highlight');
                    boattooltip.style.opacity = 0;
                }
            });
        </script>
    
    <h1>Points of Sail</h1>
    <p>Assume the wind is coming from the top of the page and moving down.</p>
    <svg width="100%" height="100%" viewBox="0 0 1800 1400" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <g id="wind-pizza">
            <ellipse id="circle" class="segment" cx="150" cy="150" rx="150" ry="150" fill="none"/>
            <path id="no-go" d="
              M 150 150
              L 256.065 43.935
              A 150 150 0 0 0 43.935 43.935
              L 150 150
              Z
              " fill="none" stroke="black"/>
            <path id="run" d="
              M 150 150
              L 256.065 256.065
              A 150 150 0 0 1 43.935 256.065
              L 150 150
              Z
              " fill="none" stroke="black"/>
            <line id="p-beam-reach" x1="150" y1="150" x2="300" y2="150" stroke="red" stroke-width="2"/>
            <line id="s-beam-reach" x1="150" y1="150" x2="0" y2="150" stroke="yellow" stroke-width="2"/>
            <line id="p-close-haul" x1="150" y1="150" x2="256.065" y2="43.935" stroke="blue" stroke-width="2"/>
            <line id="s-close-haul" x1="150" y1="150" x2="43.935" y2="43.935" stroke="green" stroke-width="2"/>
            <line id="p-broad-reach" x1="150" y1="150" x2="256.065" y2="256.065" stroke="orange" stroke-width="2"/>
            <line id="s-broad-reach" x1="150" y1="150" x2="43.935" y2="256.065" stroke="purple" stroke-width="2"/>
            <line id="run-line" x1="150" y1="150" x2="150" y2="300" stroke="pink" stroke-width="2"/>
          </g>
      
          <path id="boat" d="m 119.63291,161.77819 v 25.71498 h 49.44581 v -25.25579 c 0,0 -21.3516,-139.59568 -49.44581,-0.45919 z"
                fill="lightblue" stroke="black">
            <animateMotion
              path="M0,0 L0, -150"
              begin="0s"
              dur="3s"
              repeatCount="indefinite"/>
          </path>
        </defs>
      
        <!-- First Row -->
        <svg id="s-close-haul" x="225" y="50" width="300" height="400" viewBox="0 0 300 400">
          <use href="#wind-pizza"/>
          <text x="150" y="380" font-size="1.5em" fill="black" text-anchor="middle">Starboard Close Haul</text>
          <use href="#boat" transform="translate(150, 150) rotate(-45) translate(-150, -150)"/>
        </svg>
      
        <svg id="p-close-haul" x="750" y="50" width="300" height="400" viewBox="0 0 300 400">
          <use href="#wind-pizza"/>
          <text x="150" y="380" font-size="1.5em" fill="black" text-anchor="middle">Port Close Haul</text>
          <use href="#boat" transform="translate(150, 150) rotate(45) translate(-150, -150)"/>
        </svg>
      
        <svg id="s-beam-reach" x="1275" y="50" width="300" height="400" viewBox="0 0 300 400">
          <use href="#wind-pizza"/>
          <text x="150" y="380" font-size="1.5em" fill="black" text-anchor="middle">Starboard Beam Reach</text>
          <use href="#boat" transform="translate(150, 150) rotate(-90) translate(-150, -150)"/>
        </svg>
      
        <!-- Second Row -->
        <svg id="p-beam-reach" x="225" y="500" width="300" height="400" viewBox="0 0 300 400">
          <use href="#wind-pizza"/>
          <text x="150" y="380" font-size="1.5em" fill="black" text-anchor="middle">Port Beam Reach</text>
          <use href="#boat" transform="translate(150, 150) rotate(90) translate(-150, -150)"/>
        </svg>
      
        <svg id="s-broad-reach" x="750" y="500" width="300" height="400" viewBox="0 0 300 400">
          <use href="#wind-pizza"/>
          <text x="150" y="380" font-size="1.5em" fill="black" text-anchor="middle">Starboard Broad Reach</text>
          <use href="#boat" transform="translate(150, 150) rotate(-135) translate(-150, -150)"/>
        </svg>
      
        <svg id="p-broad-reach" x="1275" y="500" width="300" height="400" viewBox="0 0 300 400">
          <use href="#wind-pizza"/>
          <text x="150" y="380" font-size="1.5em" fill="black" text-anchor="middle">Port Broad Reach</text>
          <use href="#boat" transform="translate(150, 150) rotate(135) translate(-150, -150)"/>
        </svg>
      
        <!-- Third Row -->
        <svg id="run" x="450" y="950" width="300" height="400" viewBox="0 0 300 400">
          <use href="#wind-pizza"/>
          <text x="150" y="380" font-size="1.5em" fill="black" text-anchor="middle">Run/Dead Downwind</text>
          <use href="#boat" transform="translate(150, 150) rotate(180) translate(-150, -150)"/>
        </svg>
      
        <svg id="no-go" x="1050" y="950" width="300" height="400" viewBox="0 0 300 400">
          <use href="#wind-pizza"/>
          <text x="150" y="380" font-size="1.5em" fill="black" text-anchor="middle">No-Go Zone/In Irons</text>
          <use href="#boat"/>
        </svg>
      </svg>
      
      
      
      
 
    <h1>Basic Racing Rules Matching Game:</h1>
        <div>
            <p>Read a brief description of the rules below, then drag the rule label to the corresponding diagram. The green boat is the boat that is not breaking a rule and the red boat is breaking a rule. The dropbox will outline in red if you are incorrect and green if you are correct. In each image, the blue arrow indicates the wind direction, the black dash line indicates the boat's course, and the orange circle indicates a mark/buoy.</p>
            <b>Rule Descriptions:</b>
            <ul>
                <li><b>Rule 10:</b> On opposite tacks. Port keeps clear of starboard.</li>
                <li><b>Rule 11:</b> On the same tack, overlapped. Windward boat keeps clear of leeward boat.</li>
                <li><b>Rule 12:</b> On the same tack, not overlapped. Boat clear astern keeps clear of the boat ahead.</li>
                <li><b>Rule 13:</b> While tacking. Until the boat is on a close-hauled course after tacking, it must keep clear of other boats. (Rules 10-12 do not apply)</li>
                <li><b>Rule 14:</b> Avoid collisions.</li>
                <li><b>Rule 31:</b> Do not hit marks.</li>
            </ul>
        </div>

        <div id="term-box" class="container">
            <div class="term-box" draggable="true" ondragstart="drag(event)">Rule 10</div>
            <div class="term-box" draggable="true" ondragstart="drag(event)">Rule 11</div>
            <div class="term-box" draggable="true" ondragstart="drag(event)">Rule 12</div>
            <div class="term-box" draggable="true" ondragstart="drag(event)">Rule 13</div>
            <div class="term-box" draggable="true" ondragstart="drag(event)">Rule 14</div>
            <div class="term-box" draggable="true" ondragstart="drag(event)">Rule 31</div>
        </div>

        <div id='top-row' class="container">
            <div class="box wide-box" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img src="rule13.jpg" alt="Rule 13">
                <div id="drop-box4" class="drop-box" ondrop="drop(event)" ondragover="allowDrop(event)"  style="background-color: white;"></div>
            </div>
        </div>

        <div id='middle-row' class="container">
            <div class="box" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img src="rule10.jpg" alt="Rule 10">
                <div id="drop-box1" class="drop-box" ondrop="drop(event)" ondragover="allowDrop(event)"  style="background-color: white;"></div>
            </div>
            <div class="box" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img src="rule31.jpg" alt="Rule 31">
                <div id="drop-box6" class="drop-box" ondrop="drop(event)" ondragover="allowDrop(event)"  style="background-color: white;"></div>
            </div>
        </div>

        <div id='bottom-row' class="container">
        <div class="box" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="rule11.jpg" alt="Rule 11">
            <div id="drop-box2" class="drop-box" ondrop="drop(event)" ondragover="allowDrop(event)"  style="background-color: white;"></div>
        </div>
        <div class="box" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="rule12.jpg" alt="Rule 12">
            <div id="drop-box3" class="drop-box" ondrop="drop(event)" ondragover="allowDrop(event)"  style="background-color: white;"></div>
        </div>
        <div class="box" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="rule14.jpg" alt="Rule 14">
            <div id="drop-box5" class="drop-box" ondrop="drop(event)" ondragover="allowDrop(event)"  style="background-color: white;"></div>
        </div>
        </div>
        <script>
            function allowDrop(event) {
                event.preventDefault();
            }

            function drag(event) {
                event.dataTransfer.setData("text", event.target.innerText);
            }

            function drop(event) {
                event.preventDefault();
                var data = event.dataTransfer.getData("text");
                var dropBox = event.target;
                if (dropBox.classList.contains('drop-box')) {
                    dropBox.innerText = data;
                    if (data === dropBox.parentNode.querySelector('img').alt) {
                        dropBox.style.borderColor = 'green';
                        dropBox.style.backgroundColor = 'lightgreen';
                    } else {
                        dropBox.style.borderColor = 'red';
                        dropBox.style.backgroundColor = 'lightcoral';
                    }
                } else if (dropBox.classList.contains('term-box')) {
                    var termBox = document.getElementById('term-box');
                    termBox.appendChild(event.target);
                }
            }

            document.addEventListener('DOMContentLoaded', function() {
                var termBox = document.getElementById('term-box');
                termBox.addEventListener('dragstart', function(event) {
                    event.target.style.opacity = '0.4';
                });
                termBox.addEventListener('dragend', function(event) {
                    event.target.style.opacity = '1';
                });
            });
        </script>

    <h1>Race Flags and Their Meanings</h1>
    <p>To be Added: Similar drag and drop game with basic race flags</p>

    <h1>Top 10 Countries in Sailing Based on Olympic Medals</h1>
        <div>
            <div class="slideshow-container">
            </div>
            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>
        </div>
        <script>
            let slideIndex = 0;

            function showSlides() {
                const slides = document.getElementsByClassName("slides");
                for (let i = 0; i < slides.length; i++) {
                    slides[i].style.display = "none";
                }
                slideIndex++;
                if (slideIndex > slides.length) {slideIndex = 1}
                slides[slideIndex - 1].style.display = "block";
                setTimeout(showSlides, 3000);
            }

            function plusSlides(n) {
                slideIndex += n - 1;
                showSlides();
            }

            const data = [
                { Rank: 1, Nation: "Great Britain (GBR)", Gold: 31, Silver: 21, Bronze: 12, Total: 64, Flag: "https://flagcdn.com/w320/gb.png" },
                { Rank: 2, Nation: "United States (USA)", Gold: 19, Silver: 23, Bronze: 19, Total: 61, Flag: "https://flagcdn.com/w320/us.png" },
                { Rank: 3, Nation: "Norway (NOR)", Gold: 17, Silver: 11, Bronze: 4, Total: 32, Flag: "https://flagcdn.com/w320/no.png" },
                { Rank: 4, Nation: "France (FRA)", Gold: 15, Silver: 14, Bronze: 20, Total: 49, Flag: "https://flagcdn.com/w320/fr.png" },
                { Rank: 5, Nation: "Denmark (DEN)", Gold: 13, Silver: 9, Bronze: 9, Total: 31, Flag: "https://flagcdn.com/w320/dk.png" },
                { Rank: 6, Nation: "Australia (AUS)", Gold: 13, Silver: 8, Bronze: 8, Total: 29, Flag: "https://flagcdn.com/w320/au.png" },
                { Rank: 7, Nation: "Spain (ESP)", Gold: 13, Silver: 5, Bronze: 3, Total: 21, Flag: "https://flagcdn.com/w320/es.png" },
                { Rank: 8, Nation: "Sweden (SWE)", Gold: 10, Silver: 14, Bronze: 13, Total: 37, Flag: "https://flagcdn.com/w320/se.png" },
                { Rank: 9, Nation: "New Zealand (NZL)", Gold: 9, Silver: 8, Bronze: 6, Total: 23, Flag: "https://flagcdn.com/w320/nz.png" },
                { Rank: 10, Nation: "Netherlands (NED)", Gold: 8, Silver: 9, Bronze: 9, Total: 26, Flag: "https://flagcdn.com/w320/nl.png" }
            ];

            const container = document.querySelector('.slideshow-container');

            data.forEach(d => {
                const slide = document.createElement('div');
                slide.classList.add('slides');
                slide.innerHTML = `
                    <div class="text">${d.Rank}. ${d.Nation}</div>
                    <img src="${d.Flag}" alt="${d.Nation} Flag" class="flag">
                    <div class="medals">Gold: ${d.Gold}, Silver: ${d.Silver}, Bronze: ${d.Bronze}</div>
                    <div class="total-medals">Total: ${d.Total}</div>
                `;
                container.appendChild(slide);
            });

            showSlides();
        </script>
<h2>Fleet Racing Olympic Rankings</h2>
<div class="podium-container" id="event-470-mixed">
    <h3>Event 470 (Mixed)</h3>
    <label for="dateSlider470">Select Date:</label>
    <input type="range" id="dateSlider470" min="0" max="7" step="1" value="0">
    <div id="dateValue470"></div>
    <svg width="400" height="300" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg" class="podium">
        <rect id="second-place-470" x="50" y="150" width="100" height="100" fill="#c0c0c0"/>
        <rect id="first-place-470" x="150" y="50" width="100" height="200" fill="#ffd700"/>
        <rect id="third-place-470" x="250" y="200" width="100" height="50" fill="#cd7f32"/>

        <text id="second-place-text-470" x="100" y="140" fill="black" font-size="16" text-anchor="middle"></text>
        <text id="second-place-name-470" x="100" y="175" fill="black" font-size="12" text-anchor="middle"></text>
        <text id="first-place-text-470" x="200" y="40" fill="black" font-size="16" text-anchor="middle"></text>
        <text id="first-place-name-470" x="200" y="150" fill="black" font-size="12" text-anchor="middle"></text>
        <text id="third-place-text-470" x="300" y="190" fill="black" font-size="16" text-anchor="middle"></text>
        <text id="third-place-name-470" x="300" y="225" fill="black" font-size="12" text-anchor="middle"></text>
    </svg>
</div>

<div class="podium-container" id="event-49er-men">
    <h3>Event 49er Men</h3>
    <label for="dateSlider49erMen">Select Date:</label>
    <input type="range" id="dateSlider49erMen" min="0" max="7" step="1" value="0">
    <div id="dateValue49erMen"></div>
    <svg width="400" height="300" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg" class="podium">
        <rect id="second-place-49erMen" x="50" y="150" width="100" height="100" fill="#c0c0c0"/>
        <rect id="first-place-49erMen" x="150" y="50" width="100" height="200" fill="#ffd700"/>
        <rect id="third-place-49erMen" x="250" y="200" width="100" height="50" fill="#cd7f32"/>

        <text id="second-place-text-49erMen" x="100" y="140" fill="black" font-size="16" text-anchor="middle"></text>
        <text id="second-place-name-49erMen" x="100" y="175" fill="black" font-size="12" text-anchor="middle"></text>
        <text id="first-place-text-49erMen" x="200" y="40" fill="black" font-size="16" text-anchor="middle"></text>
        <text id="first-place-name-49erMen" x="200" y="150" fill="black" font-size="12" text-anchor="middle"></text>
        <text id="third-place-text-49erMen" x="300" y="190" fill="black" font-size="16" text-anchor="middle"></text>
        <text id="third-place-name-49erMen" x="300" y="225" fill="black" font-size="12" text-anchor="middle"></text>
    </svg>
</div>

<div class="podium-container" id="event-49er-women">
    <h3>Event 49er Women</h3>
    <label for="dateSlider49erWomen">Select Date:</label>
    <input type="range" id="dateSlider49erWomen" min="0" max="7" step="1" value="0">
    <div id="dateValue49erWomen"></div>
    <svg width="400" height="300" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg" class="podium">
        <rect id="second-place-49erWomen" x="50" y="150" width="100" height="100" fill="#c0c0c0"/>
        <rect id="first-place-49erWomen" x="150" y="50" width="100" height="200" fill="#ffd700"/>
        <rect id="third-place-49erWomen" x="250" y="200" width="100" height="50" fill="#cd7f32"/>

        <text id="second-place-text-49erWomen" x="100" y="140" fill="black" font-size="16" text-anchor="middle"></text>
        <text id="second-place-name-49erWomen" x="100" y="175" fill="black" font-size="12" text-anchor="middle"></text>
        <text id="first-place-text-49erWomen" x="200" y="40" fill="black" font-size="16" text-anchor="middle"></text>
        <text id="first-place-name-49erWomen" x="200" y="150" fill="black" font-size="12" text-anchor="middle"></text>
        <text id="third-place-text-49erWomen" x="300" y="190" fill="black" font-size="16" text-anchor="middle"></text>
        <text id="third-place-name-49erWomen" x="300" y="225" fill="black" font-size="12" text-anchor="middle"></text>
    </svg>
</div>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script>
    const dates = [
        "2024-05-21",
        "2024-04-09",
        "2024-03-12",
        "2024-02-06",
        "2023-12-12",
        "2023-11-07",
        "2023-10-17",
        "2023-09-05"
    ];

    function updatePodium(eventId, date) {
        d3.csv("podium_data.csv").then(function(data) {
            const filteredData = data.filter(d => d.Date === date && d.Event === eventId);

            d3.select("#first-place-text-" + eventId).text("");
            d3.select("#first-place-name-" + eventId).text("");
            d3.select("#second-place-text-" + eventId).text("");
            d3.select("#second-place-name-" + eventId).text("");
            d3.select("#third-place-text-" + eventId).text("");
            d3.select("#third-place-name-" + eventId).text("");

            filteredData.forEach(function(d) {
                if (d.Position == 1) {
                    d3.select("#first-place-text-" + eventId).text("1st Place");
                    d3.select("#first-place-name-" + eventId).text(d.Name);
                } else if (d.Position == 2) {
                    d3.select("#second-place-text-" + eventId).text("2nd Place");
                    d3.select("#second-place-name-" + eventId).text(d.Name);
                } else if (d.Position == 3) {
                    d3.select("#third-place-text-" + eventId).text("3rd Place");
                    d3.select("#third-place-name-" + eventId).text(d.Name);
                }
            });
        }).catch(function(error) {
            console.error('Error loading the CSV file:', error);
        });
    }

    function initializePodium(eventId, sliderId, dateValueId) {
        const initialDate = dates[document.getElementById(sliderId).value];
        document.getElementById(dateValueId).innerText = initialDate;

        document.getElementById(sliderId).addEventListener("input", function() {
            const selectedDate = dates[this.value];
            document.getElementById(dateValueId).innerText = selectedDate;
            updatePodium(eventId, selectedDate);
        });

        updatePodium(eventId, initialDate);
    }

    initializePodium("470", "dateSlider470", "dateValue470");
    initializePodium("49erMen", "dateSlider49erMen", "dateValue49erMen");
    initializePodium("49erWomen", "dateSlider49erWomen", "dateValue49erWomen");
</script>
<h1>Example Race Course</h1>
<p>To be Added: Animation of a simple w4 course.</p>
</body>
</html>
